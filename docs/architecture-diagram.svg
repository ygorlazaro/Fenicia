<!-- Fenicia Macro Architecture Diagram (SVG) -->
<svg width="900" height="600" viewBox="0 0 900 600" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="600" fill="#f9f9f9"/>
  <rect x="50" y="40" width="800" height="520" rx="30" fill="#fff" stroke="#bbb" stroke-width="2"/>
  <text x="450" y="80" text-anchor="middle" font-size="28" font-family="Arial" fill="#333">Fenicia SaaS Macro Architecture</text>

  <!-- ERP Admin Portal -->
  <rect x="90" y="120" width="180" height="60" rx="10" fill="#e3eaff" stroke="#6c63ff" stroke-width="2"/>
  <text x="180" y="155" text-anchor="middle" font-size="16" font-family="Arial" fill="#333">ERP Admin Portal</text>
  <text x="180" y="175" text-anchor="middle" font-size="12" font-family="Arial" fill="#666">Blazor/MVC</text>

  <!-- Auth Service -->
  <rect x="370" y="120" width="160" height="60" rx="10" fill="#ffe3e3" stroke="#ff6363" stroke-width="2"/>
  <text x="450" y="155" text-anchor="middle" font-size="16" font-family="Arial" fill="#333">Auth Service</text>
  <text x="450" y="175" text-anchor="middle" font-size="12" font-family="Arial" fill="#666">JWT, Permissions</text>

  <!-- RabbitMQ -->
  <ellipse cx="730" cy="150" rx="60" ry="30" fill="#fffbe3" stroke="#ffd863" stroke-width="2"/>
  <text x="730" y="155" text-anchor="middle" font-size="16" font-family="Arial" fill="#333">RabbitMQ</text>
  <text x="730" y="175" text-anchor="middle" font-size="12" font-family="Arial" fill="#666">Events Bus</text>

  <!-- Modules -->
  <rect x="90" y="250" width="720" height="200" rx="20" fill="#f3f7fa" stroke="#bbb" stroke-width="1.5"/>
  <text x="450" y="275" text-anchor="middle" font-size="18" font-family="Arial" fill="#333">Independent Modules (Microservices)</text>

  <!-- Module Boxes -->
  <g>
    <rect x="120" y="300" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="180" y="330" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">Basic</text>
    <rect x="270" y="300" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="330" y="330" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">Social</text>
    <rect x="420" y="300" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="480" y="330" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">Projects</text>
    <rect x="570" y="300" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="630" y="330" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">Performance</text>
  </g>
  <g>
    <rect x="120" y="370" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="180" y="400" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">Accounts</text>
    <rect x="270" y="370" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="330" y="400" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">HR</text>
    <rect x="420" y="370" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="480" y="400" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">POS</text>
    <rect x="570" y="370" width="120" height="50" rx="8" fill="#e3ffe3" stroke="#63ff63" stroke-width="1.5"/>
    <text x="630" y="400" text-anchor="middle" font-size="14" font-family="Arial" fill="#333">Contracts</text>
  </g>

  <!-- DBs per module/tenant -->
  <rect x="90" y="480" width="720" height="60" rx="15" fill="#fff" stroke="#bbb" stroke-width="1.5"/>
  <text x="450" y="510" text-anchor="middle" font-size="15" font-family="Arial" fill="#333">Each module has its own database per tenant (tenant_{id}_{module})</text>

  <!-- Arrows -->
  <g stroke="#888" stroke-width="2" marker-end="url(#arrow)">
    <line x1="180" y1="180" x2="180" y2="250"/>
    <line x1="450" y1="180" x2="450" y2="250"/>
    <line x1="730" y1="180" x2="730" y2="250"/>
    <line x1="450" y1="370" x2="450" y2="480"/>
  </g>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,5 L0,10 L4,5 Z" fill="#888" />
    </marker>
  </defs>
</svg>
